REST API для работы с данными профиля пользователя
Описание проекта
Данный проект представляет собой REST API для управления данными профиля пользователя. API позволяет получать данные профиля, обновлять их, загружать аватары и валидировать входящие данные. Все изменения сохраняются в базе данных, а загруженные аватары хранятся локально с возвращением их URL.

Функционал API
1. Получение данных профиля
Метод: GET /profile
Описание: Возвращает данные профиля пользователя в формате JSON.
Пример ответа:
json
Копировать код
{
  "name": "Ivan",
  "surname": "Ivanov",
  "jobTitle": "Developer",
  "phone": "+79999999999",
  "address": "Moscow",
  "interests": ["Startups", "Tech"],
  "isPublic": true,
  "avatarUrl": "https://example.com/avatar.jpg"
}
2. Обновление данных профиля
Метод: PUT /profile
Описание: Обновляет данные профиля пользователя (кроме аватара).
Тело запроса:
json
Копировать код
{
  "name": "Anna",
  "surname": "Petrova",
  "jobTitle": "Engineer",
  "phone": "+79876543210",
  "address": "Saint Petersburg",
  "interests": ["Music", "Books"],
  "isPublic": false
}
Пример ответа:
200 OK: Возвращает обновлённые данные профиля.
3. Загрузка аватара
Метод: POST /upload-avatar
Описание: Позволяет загрузить изображение аватара пользователя.
Параметры запроса (form-data):
file: Файл изображения (поддерживаемые форматы: .jpg, .jpeg, .png).
userId: Идентификатор пользователя.
Пример ответа:
json
Копировать код
{
  "avatarUrl": "http://localhost:8080/uploaded_avatars/avatar123.jpg"
}
4. Валидация данных
Все поля профиля проходят валидацию на сервере. В случае ошибок возвращается понятное сообщение об ошибке.

Поля и правила валидации:
Имя (name):

Обязательное поле.
Длина: от 2 до 50 символов.
Разрешены только буквы и пробелы.
Фамилия (surname):

Обязательное поле.
Длина: от 2 до 50 символов.
Разрешены только буквы и пробелы.
Должность (jobTitle):

Необязательное поле.
Длина: до 100 символов.
Разрешены буквы, цифры и пробелы.
Номер телефона (phone):

Обязательное поле.
Формат: +<код страны><номер> (например, +79999999999).
Только цифры и символ + в начале.
Длина: от 10 до 15 символов.
Адрес (address):

Необязательное поле.
Длина: до 200 символов.
Разрешены буквы, цифры, запятые, точки, дефисы и пробелы.
Интересы (interests):

Необязательное поле.
Максимум 10 тегов.
Каждый тег: до 30 символов.
Разрешены буквы, цифры, пробелы, запятые и точки.
Ссылка на профиль (links):

Необязательное поле.
Должна быть валидной ссылкой (http:// или https://).
Длина: до 200 символов.
Аватар (avatar):

Необязательное поле.
Поддерживаемые форматы: .jpg, .jpeg, .png.
Максимальный размер: 5 MB.
Публичность профиля (isPublic):

Только два значения: true (публичный) или false (приватный).
По умолчанию: false (приватный).
Минимальные требования
База данных:

Поддержка любой базы данных (например, SQLite, PostgreSQL, MongoDB).
Данные профиля хранятся в таблице или коллекции.
Сохранение изменений:

Все изменения профиля сохраняются в базе данных.
Загрузка аватара:

Загруженные файлы сохраняются локально, а пользователю возвращается URL.
Установка и запуск
1. Клонируйте репозиторий
bash
Копировать код
git clone https://github.com/ваш-репозиторий/user-profile-api.git
cd user-profile-api
2. Установите зависимости
Убедитесь, что у вас установлен Java и Maven:

bash
Копировать код
mvn clean install
3. Настройте приложение
Обновите файл application.properties для настройки базы данных и директории для аватаров:

properties
Копировать код
spring.datasource.url=jdbc:postgresql://localhost:5432/user_profile_db
spring.datasource.username=your_username
spring.datasource.password=your_password
upload.folder=C:/path/to/uploaded_avatars
4. Запустите приложение
bash
Копировать код
mvn spring-boot:run
Примеры запросов
Получение профиля
bash
Копировать код
curl -X GET http://localhost:8080/profile
Обновление профиля
bash
Копировать код
curl -X PUT http://localhost:8080/profile \
-H "Content-Type: application/json" \
-d '{
  "name": "Anna",
  "surname": "Petrova",
  "jobTitle": "Engineer",
  "phone": "+79876543210",
  "address": "Saint Petersburg",
  "interests": ["Music", "Books"],
  "isPublic": false
}'
Загрузка аватара
bash
Копировать код
curl -X POST http://localhost:8080/upload-avatar \
-F "file=@/path/to/avatar.jpg" \
-F "userId=123"
Используемые технологии
Spring Boot: Фреймворк для разработки REST API.
Hibernate/JPA: Работа с базой данных.
PostgreSQL: Пример базы данных (можно заменить).
Maven: Управление зависимостями и сборкой.
Планы по улучшению
Реализация аутентификации и авторизации.
Улучшение логирования и обработки ошибок.
Добавление тестов для всех основных функций API.
